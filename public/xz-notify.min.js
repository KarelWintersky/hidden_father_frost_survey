//xz-notify.min.js,3.0.7,https://github.com/dknight/xz-notify
"use strict";class t extends HTMLElement{constructor(s,e,o=!1,i=t.defaults.GROUPED,r=t.positions.NE,n=t.defaults.EXPIRE,a=t.defaults.TYPE,h=!0,c){super(),this.root=s,this.styleElem=e,this.forcedClose=o,this.grouped=i,this.position=r,this.expire=n,this.type=a,this.closeable=h,this.heading=c,this.root=this.attachShadow({mode:"open"}),this.styleElem=document.createElement("style"),this.styleElem.textContent=`:host {
      --xz-notify-background-color: #f7f7f7;
      --xz-notify-heading-color: currentColor;
      --xz-notify-zIndex: 1000;
    
      display: block;
      position: fixed;
      left: var(--xz-notify-left);
      top: var(--xz-notify-top);
      border-radius: 0;
      border: 0 solid;
      font-family: system-ui, -apple-system, Arial, sans-serif;
      font-size: 16px;
      font-weight: normal;
      line-height: normal;
      margin: .5em;
      padding: 1.5em;
      width: fit-content;
      max-width: 28em;
      min-width: 18em;
      height: auto;
      z-index: var(--xz-notify-zIndex);
      animation: xz-notify-toggle .25s ease-in;
      background:
        var(--xz-notify-background-color)
        linear-gradient(to right, var(--xz-notify-heading-color) .25em, transparent 0);
      border-color: transparent;
      color: #666;
    }
    
    :host([data-closing]) {
      animation-direction: reverse;
      animation-iteration-count: 2;
    }
    
    @keyframes xz-notify-toggle {
      from {opacity: 0;}
      to {opacity: 1;}
    }
    
    :host([closeable]) {
      cursor: pointer;
    }
    :host([closeable]:hover)::after {
      content: '';
      display: block;
      width: 100%; height: 100%;
      background: rgba(0,0,0,.05);
      position: absolute;
      top: 0; left: 0;
      pointer-events: none;
    }
    :host p {margin-top: 0}
    :host a {color: currentColor}
    :host .heading {
      color: var(--xz-notify-heading-color, currentColor);
      font-size: 125%;
      margin: 0 0 .5em;
    }
    
    /* Default theme */
    :host {
      color: #fff;
      padding: 1em;
      border-radius: 0;
      border-width: 0;
      background: #9c9c9c;
      --xz-notify-heading-color: currentColor;
    }
    :host([type="info"]) {
      background: #5f9eb7;
    }
    :host([type="success"]) {
      background: #2ecc40;
    }
    :host([type="warning"]) {
      background: #ff851b;
    }
    :host([type="error"]) {
      background: #ff4136;
    }`}static{this.TAG_NAME="xz-notify"}static{this.observedAttributes=[]}static{this.types={DEFAULT:"default",INFO:"info",WARNING:"warning",SUCCESS:"success",ERROR:"error"}}static{this.events={OPEN:new CustomEvent("xz-notify:open",{bubbles:!0}),CLOSE:new CustomEvent("xz-notify:close",{bubbles:!0})}}static{this.positions={N:"n",NE:"ne",E:"e",SE:"se",S:"s",SW:"sw",W:"w",NW:"nw"}}static{this.collection={[t.positions.N]:[],[t.positions.NE]:[],[t.positions.E]:[],[t.positions.SE]:[],[t.positions.S]:[],[t.positions.SW]:[],[t.positions.W]:[],[t.positions.NW]:[]}}static{this.defaults={EXPIRE:1e4,TYPE:t.types.INFO,POSITION:t.positions.NE,CLOSEABLE:!1,GROUPED:!1,HEADING:null}}static{this.create=(s,e={},o=!1)=>{const i=document.createElement(this.TAG_NAME);return Object.entries(e).forEach(([r,n])=>{n===!1||n===null||i.setAttribute(r,String(n))}),i[o?"innerHTML":"textContent"]=s,i}}setPosition(){const s=this.grouped?0:this.findIndex(),[e,o]=this.calcBasePosition(),[i,r]=this.calcOffsetPosition(s);if(this.style.setProperty("--xz-notify-left",`calc(${e} - ${i}px)`),this.style.setProperty("--xz-notify-top",`calc(${o} + ${r}px)`),this.grouped){const n=t.collection[this.position].length;this.style.setProperty("--xz-notify-zIndex",String(1e4-n))}}findIndex(){return t.collection[this.position].findIndex(s=>s===this)}calcBasePosition(){switch(this.position){case t.positions.N:return["50%","0%"];default:case t.positions.NE:return["100%","0%"];case t.positions.E:return["100%","50%"];case t.positions.SE:return["100%","100%"];case t.positions.S:return["50%","100%"];case t.positions.SW:return["0%","100%"];case t.positions.W:return["0%","50%"];case t.positions.NW:return["0%","0%"]}}calcOffsetPosition(s){const e=this.getBoundingClientRect(),o=getComputedStyle(this),i=Number.parseInt(o.getPropertyValue("margin-top")),r=Number.parseInt(o.getPropertyValue("margin-right")),n=Number.parseInt(o.getPropertyValue("margin-bottom")),a=Number.parseInt(o.getPropertyValue("margin-left"));switch(this.position){case t.positions.N:return[e.width/2,s*(e.height+i)];default:case t.positions.NE:return[e.width+a+r,s*(e.height+i)];case t.positions.E:return[(s+1)*(e.width+a+r),-(e.height/2+i+n)];case t.positions.SE:return[e.width+a+r,-(s+1)*(e.height+i+n)];case t.positions.S:return[e.width/2,-(s+1)*(e.height+i+n)];case t.positions.SW:return[0,-(s+1)*(e.height+i+n)];case t.positions.W:return[s*-(e.width+a),-(e.height/2+i+n)];case t.positions.NW:return[0,s*(e.height+i)]}}setPositionAll(){Object.values(t.collection).forEach(s=>{s.forEach(e=>this.setPosition.call(e))})}connectedCallback(){this.reflectToProperties(),t.collection[this.position].push(this),this.dispatchEvent(t.events.OPEN),this.render(),this.hydrate()}reflectToProperties(){const s=this.getAttribute("type")||t.defaults.TYPE;this.type=s.toLowerCase(),this.position=(this.getAttribute("position")||t.positions.NE).toLowerCase();const e=this.getAttribute("expire");e===null||Number.isNaN(Number(e))?this.expire=t.defaults.EXPIRE:this.expire=Number(e),this.closeable=this.hasAttribute("closeable"),this.heading=this.getAttribute("heading"),this.grouped=this.hasAttribute("grouped")}render(){this.root.append(this.styleElem),this.heading&&this.root.appendChild(this.buildHeading()),this.root.append(...this.childNodes),this.setAttribute("role","alert")}buildHeading(){const s=document.createElement("h3");return this.heading&&(s.innerText=this.heading),s.classList.add("heading"),s}hydrate(){const s=Number.parseFloat(window.getComputedStyle(this).getPropertyValue("animation-duration"))>0;this.setPosition();let e;const o=i=>{if(e===void 0&&(e=i),i-e>=this.expire||this.forcedClose){this.dataset.closing="true",s?this.style.animationPlayState="running":this.close();return}requestAnimationFrame(o)};requestAnimationFrame(o),this.addEventListener("animationend",this.close),this.closeable&&this.addEventListener("click",this.closeHandler.bind(this))}close(){if(!this.dataset.closing){this.style.animationPlayState="paused";return}this.dispatchEvent(t.events.CLOSE),this.remove()}closeHandler(){this.forcedClose=!0}disconnectedCallback(){t.collection[this.position]=t.collection[this.position].filter(s=>s!==this),this.setPositionAll()}}window.customElements.define(t.TAG_NAME,t);export default t;
//# sourceMappingURL=xz-notify.min.js.map
